:root{
  --bg:#0b1020;
  --bg2:#0d1326;
  --panel:#0f172a;
  --panelSoft:#111a34;
  --text:#e5e7eb;
  --muted:#96a2c7;
  --accent:#7dd3fc;
  --accent2:#a78bfa;
  --ok:#10b981;
  --warn:#f59e0b;
  --bad:#ef4444;
  --border:#23304d;
  --shadow:rgba(0,0,0,.35);

  /* comfortable but compact defaults */
  --card-pad: 12px;
  --gap: 14px;
  --cell-h: 36px;
}

/* Reset & base */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:
    radial-gradient(1200px 600px at 20% 0%, #0b1226 0%, #090f1c 35%, #080d18 100%),
    var(--bg);
  color:var(--text);
  font: 18px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
}

/* Layout */
.container{ max-width: 1200px; margin: 0 auto; padding: 16px; }

.header{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding-bottom:8px;
}
.header-actions{ display:flex; flex-wrap:wrap; align-items:center; gap:8px;  }

/* Cards */
.card{
  background: linear-gradient(180deg, var(--panel) 0%, var(--panelSoft) 100%);
  border:1px solid var(--border);
  border-radius: 12px;
  box-shadow: 0 10px 30px var(--shadow);
  padding: var(--card-pad);
}

/* Make pre-sections comfortably spaced from sections below */
.pre-sections{ max-width: 1200px; margin: 0 auto 18px; padding: 0 12px; width:100%; }
.summary-grid{
  margin-top: 15px;
  display:grid; grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
  gap: var(--gap);
}
.chart-card{ margin-top: 8px; height: 340px; padding-bottom: 7.5vh;}

/* Simple grid helpers (no Tailwind dependency) */
.mt-3 { margin-top: 15px; }
.grid{ display:grid; gap: var(--gap); }
.md\:grid-cols-3{ grid-template-columns: repeat(1,minmax(0,1fr)); }
@media (min-width: 768px){ .md\:grid-cols-3{ grid-template-columns: repeat(3,minmax(0,1fr)); } }
.xl\:grid-cols-2{ grid-template-columns: repeat(1,minmax(0,1fr)); }
@media (min-width: 1200px){ .xl\:grid-cols-2{ grid-template-columns: repeat(2,minmax(0,1fr)); } }

/* Space the section grid away from surrounding content */
.grid.xl\:grid-cols-2{ margin-top: 15px; margin-bottom: 15px; padding: 15px; }

/* Tabs */
.tabs-grid{
  display:grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
  gap: var(--gap); margin-top: 15px;
}

/* Spacing helpers */
.opacity-80{margin: 15px;}

/* Typography */
.text-lg, .text-xs{
  font-size: 20px; line-height: 1.4; font-weight: 600;
}
.text-lg{ margin-bottom: 10px; }
.text-sm{
  font-size: 18px; line-height: 1.4; font-weight: 500;
}

/* Buttons */
.btn{
  background: transparent; color: var(--text);
  border:1px solid var(--border);
  padding: 6px 10px; border-radius: 10px;
  margin-bottom: 5px;
  cursor:pointer; transition:.2s ease all; height: var(--cell-h);
}

.justify-end{margin-top: 15px;}
.btn:hover{ background:#152241; }
.btn-primary{ background: linear-gradient(180deg,#4856b8 0%,#3543a3 100%); border-color:#3b4bb0; }
.btn-primary:hover{ filter: brightness(1.08); }
.btn-danger{ background:#3b0f0f; border-color:#5f1d1d; color:#fca5a5; }
.btn-ghost{ background: linear-gradient(180deg,#b84848 0%,#a33535 100%); border-color:#b03b3b; }
.btn:disabled{ opacity:.6; cursor:not-allowed; }

/* Section header bar */
.section-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px var(--card-pad); border-bottom:1px solid var(--border);
}

/* Tables */
.table-wrap{
  overflow:auto;
  background:
    linear-gradient(to right, var(--panel) 30%, rgba(15,23,42,0)),
    linear-gradient(to left,  var(--panel) 30%, rgba(15,23,42,0)) 100% 0/auto auto no-repeat,
    linear-gradient(to right, rgba(0,0,0,.15), rgba(0,0,0,0)),
    linear-gradient(to left,  rgba(0,0,0,.15), rgba(0,0,0,0)) 100% 0/auto auto no-repeat;
  background-attachment: local, local, scroll, scroll;
  border-radius: 0 0 12px 12px;
  padding: 8px;
}
table{ width:100%; border-collapse: separate; border-spacing:0; }

thead th{
  position: sticky; top:0; z-index:2;
  background:var(--panel);
  color:var(--muted); font-weight:600; white-space:nowrap;
  padding: 10px 8px; border-bottom:1px solid var(--border);
}
tbody td{
  border-bottom:1px solid rgba(35,48,77,0.55);
  padding: 4px 6px; vertical-align: top; white-space:nowrap; 
}

/* Sticky first column + better width for names */
.sticky-col{
  position: sticky; left:0; z-index:1;
  background:var(--panel); border-right:1px solid var(--border);
  min-width: 220px; max-width: 260px;
}
.row-name{ display:flex; align-items:center; gap:8px; }
.row-name .name{
  overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}

/* Inputs: readable; but truly empty cells look blank until hover/focus */
input, select{
  width:fit-content; height: var(--cell-h);
  background:#0a1226; border:1px solid #1e2a47; color:var(--text);
  padding: 4px 6px; border-radius:8px; outline:none; font-size: 18px;
}
input:focus, select:focus{ border-color:#3b82f6; box-shadow:0 0 0 2px rgba(59,130,246,.25); }
input[type="number"]{ text-align:right; font-variant-numeric: tabular-nums; font-feature-settings: "tnum" 1; }

/* “Blank until edit”: any numeric input with empty value renders invisible until hover/focus */
td input.cell-input[value=""]{
  background: transparent; border-color: transparent; color: transparent;
  box-shadow: none;
}
td input.cell-input[value=""]:hover{
  background:#0f1833; border-color:#1e2a47; color:var(--text);
}
td input.cell-input[value=""]:focus{
  background:#0a1226; border-color:#3b82f6; color:var(--text);
}

/* Weekly summary: only Balance & Cumulative cells go red when negative */
td.neg {
  background: rgba(239,68,68,.16);
  color:#fecaca;
  font-weight:600;
}

/* X-axis header cells (dates) a bit larger & spaced */
thead th.date-col{ font-size: 13px; padding: 10px 10px; }

/* Calendar */
.calendar-grid{ display:grid; grid-template-columns: repeat(7,1fr); gap:6px; }
.calendar-day{
  min-height: 70px; border:1px solid var(--border); border-radius:10px;
  padding:6px; display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  cursor:pointer; background:#0e1730;
}
.calendar-day:hover{ background:#122049; }
.calendar-day--empty{ opacity:.35; cursor:default; }
.calendar-day--selected{ outline: 2px solid #8ab4ff; }
.calendar-badge{ font-size:11px; padding:2px 6px; border-radius:999px; border:1px solid transparent; }
.badge-income{ background:rgba(16,185,129,.18); border-color:rgba(16,185,129,.35); }
.badge-outflow{ background:rgba(239,68,68,.18); border-color:rgba(239,68,68,.35); }

/* Toasts */
.toast-stack{ position:fixed; top:16px; right:16px; z-index:9000; display:flex; flex-direction:column; gap:8px; }
.toast{
  background:#101a36; border:1px solid #23304d; color:var(--text); padding:10px 12px;
  border-radius:10px; box-shadow:0 10px 20px rgba(0,0,0,.3);
}

/* Modal — always above chart; compact contour */
.modal{ position: fixed; inset:0; z-index:10000; display:flex; align-items:center; justify-content:center; }
.modal-overlay{ position:absolute; inset:0; background: rgba(2,8,23,.62); backdrop-filter: blur(2px); }
.modal-card{ position:relative; width:min(380px,92vw);}
.modal .card{ padding: 14px; box-shadow: 0 20px 60px rgba(0,0,0,.6); }

/* Helpers for min-width tables */
.minw-760{ min-width:760px; }
.minw-900{ min-width:900px; }
.minw-1080{ min-width:1080px; }

/* Responsive tweaks */
@media (min-width: 1536px){
  .pre-sections{ max-width: 1280px; }
  .chart-card{ height: 360px; }
}
@media (max-width: 1024px){
  .chart-card{ height: 320px; }
}
@media (max-width: 768px){
  .chart-card{ height: 280px; }
  .sticky-col{ min-width: 180px; }
}
@media (max-width: 640px){
  .header{ flex-direction:column; align-items:flex-start; gap:10px; }
  .header-actions{ width:100%; gap:6px; }
  .header-actions .btn{ flex:1 1 auto; }
}

/* ===== Brighter, larger calendar icon for <input type="date"> ===== */

/* A crisp SVG we’ll use as an overlay icon (data URI so no extra file) */
:root{
  --cal-svg: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e5e7eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'>\
<rect x='3' y='4.5' width='18' height='16' rx='2.5' />\
<path d='M3 9h18' />\
<path d='M8 3v4M16 3v4' />\
<circle cx='8' cy='13' r='1'/><circle cx='12' cy='13' r='1'/><circle cx='16' cy='13' r='1'/>\
<circle cx='8' cy='17' r='1'/><circle cx='12' cy='17' r='1'/><circle cx='16' cy='17' r='1'/>\
</svg>");
}

/* Ensure the control renders with a dark color scheme so system icons stay visible */
input[type="date"]{
  color-scheme: dark;
  padding-right: 40px;                 /* room for the bigger icon */
  background-image: var(--cal-svg);    /* our high-contrast icon */
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 18px 18px;          /* tweak if you want it even bigger */
}

/* Hide the dim WebKit indicator so we don’t get two icons,
   but keep it clickable area intact (opacity works better than display:none) */
input[type="date"]::-webkit-calendar-picker-indicator{
  opacity: 0;                          /* visually hidden — click still opens picker */
}

/* Extra polish */
input[type="date"]::-webkit-clear-button,
input[type="date"]::-webkit-inner-spin-button{ display:none; }

/* If you prefer to KEEP the native icon and just brighten it, uncomment the
   rules below and use this instead (WebKit/Blink only): */

input[type="date"]::-webkit-calendar-picker-indicator{
  opacity: 1;
  filter: invert(1) brightness(1.8) contrast(1.2);  /* brighter on dark UI */
}

/* ===== End calendar icon tweaks ===== */
